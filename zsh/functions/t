# taskwarrior wrapper function

typeset active_project

if [[ -n $VIRTUAL_ENV ]]
then
    active_project=$(basename $VIRTUAL_ENV)
else
    active_project=$(basename $PWD)
fi

if [[ -z $1 ]]
then
    task ls pro:$active_project
else
    case $1 in
        (add|list|ls) task pro:$active_project $* ;;
        (*) task $* ;;
    esac
fi


